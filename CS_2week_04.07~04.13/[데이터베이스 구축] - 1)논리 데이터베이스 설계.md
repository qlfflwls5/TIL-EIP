# [데이터베이스 구축] - 1)논리 데이터베이스 설계







## 1. 데이터베이스 설계

### 1.1 데이터베이스 설계의 개념

+ 데이터베이스 설계란 사용자의 요구를 분석해 그것들을 컴퓨터에 저장할 수 있는 데이터베이스 구조에 맞게 변형한 후 특정 DBMS로 데이터베이스를 구현하여 일반 사용자들이 사용하게 하는 것





### 1.2 데이터베이스 설계 시 고려사항

+ **무결성**
  + 삽입, 삭제, 갱신 등의 연산 후에도 DB에 저장된 데이터가 정해진 제약 조건을 항상 만족해야 한다.
+ **일관성**
  + DB에 저장된 데이터들 사이나, 특정 질의에 대한 응답이 처음부터 끝까지 변함없이 일정해야 한다.
+ **회복**
  + 시스템에 장애가 발생했을 때 장애 발생 직전의 상태로 복구할 수 있어야 한다.
+ **보안**
  + 불법적인 데이터의 노출 또는 변경이나 손실로부터 보호할 수 있어야 한다.
+ **효율성**
  + 응답시간의 단축, 시스템의 생산성, 저장 공간의 최적화 등이 가능해야 한다.
+ **데이터베이스 확장**
  + DB운영에 영향을 주지 않으면서 지속적으로 데이터를 추가할 수 있어야 한다.





### 1.3 데이터베이스 설계 순서(순서 외우기)

1. **요구 조건 분석**
   + 요구 조건 **명세서** 작성
     + DB를 사용할 사람들로부터 필요한 용도를 파악하는 것
2. **개념적 설계** (정보 모델링)
   + **개념 스키마**(독립적)(특정 DBMS와 무관), **트랜잭션 모델링**, **E-R모델**
   + 정보의 구조를 얻기 위하여 현실 세계의 무한성과 계속성을 이해하고, 다른 사람과 통신하기 위하여 현실 세계에 대한 인식을 추상적 개념으로 표현하는 과정
3. **논리적 설계** (데이터 모델링)
   + 목표 DBMS에 맞는 **논리 스키마 설계**(종속적)(독립적 아님), **트랜잭션 인터페이스 설계**
   + 현실 세계에서 발생하는 자료를 컴퓨터가 이해하고 처리할 수 있는 물리적 저장장치에 저장할 수 있도록 변환하기 위해 특정 DBMS가 지원하는 논리적 자료 구조로 변환시키는 과정
   + RDBMS라면 테이블을 설계하는 단계이다.
4. **물리적 설계** (데이터 구조화)
   + 목표 DBMS에 맞는 **물리적 구조의 데이터로 변환**
   + 논리적 구조로 표현된 데이터를 디스크 등의 물리적 저장장치에 저장할 수 있는 물리적 구조의 데이터로 변환하는 과정
   + 데이터가 컴퓨터에 저장되는 방법을 묘사, DB 파일의 저장 구조 및 액세스 경로 결정
   + **레코드 집중의 분석 및 설계**
5. **구현**
   + 목표 DBMS의 DDL로 데이터베이스 생성, 트랙잭션 작성







## 2. 데이터 모델의 개념

### 2.1 데이터 모델의 정의

+ 데이터 모델은 현실 세계의 정보들을 컴퓨터에 표현하기 위해서 **단순화, 추상화**하여 체계적으로 표현한 개념적 모형
+ 데이터, 데이터의 관계, 데이터의 의미 및 일관성, 제약 조건 등을 기술하기 위한 개념적 도구들의 모임
+ 데이터베이스 설계 과정에서 데이터의 구조(스키마)를 논리적으로 표현하기 위해 사용되는 도구
+ **데이터 모델의 구성 요소**: 개체, 속성, 관계
+ **데이터 모델 종류**: 개념적 데이터 모델, 논리적 데이터 모델, 물리적 데이터 모델
+ **데이터 모델에 표시할 요소**: 구조, 연산, 제약 조건





### 2.2 데이터 모델의 구성 요소

+ **개체(Entity)**

  + 데이터베이스에 표현하려는 것으로, **사람이 생각하는 개념이나 정보 단위 같은 현실 세계의 대상**이다.
  
+ **속성(Attribute)**

  + **데이터의 가장 작은 논리적 단위**로서 파일 구조상의 데이터 항목 또는 데이터 필드에 해당한다.

+ **관계(Relationship)**

  + 개체 간의 관계 또는 속성 간의 논리적인 연결을 의미한다.

  



### 2.3 개념적 데이터 모델

+ 현실 세계에 대한 인간의 이해를 돕기 위해 **현실 세계에 대한 인식을 추상적 개념**으로 표현하는 과정
+ 속성들로 기술된 개체 타입과 이 개체 타입들 간의 관계를 이용하여 현실 세계를 표현
+ 현실 세계에 존재하는 개체를 인간이 이해할 수 있는 정보 구조로 표현하기 때문에 **정보 모델**이라고도 한다.
+ 대표적인 개념적 데이터 모델로는 **E-R모델**이 있다.





### 2.4 논리적 데이터 모델

+ 개념적 모델링 과정에서 얻은 개념적 구조를 컴퓨터가 이해하고 처리할 수 있는 컴퓨터 세계의 환경에 맞도록 변환하는 과정
+ 필드로 기술된 데이터 타입과 이 데이터 타입들 간의 관계를 이용하여 현실 세계 표현
+ 단순히 데이터 모델이라고 하면 논리적 데이터 모델을 의미한다.
+ **특정 DBMS는 특정 논리적 데이터 모델 하나만 선정하여 사용한다.**
+ 관계 모델, 계층 모델, 네트워크 모델로 구분한다.





### 2.5 논리적 데이터 모델의 품질 검증

+ 완성된 논리 데이터 모델이 기업에 적합한지를 확인하기 위해 품질을 검증하는 것
+ 개체, 속성, 관계, 식별자, 모델 전반 등에 대하여 검토 체크리스트를 작성하고 항목들을 확인한다.





### 2.6 데이터 모델에 표시할 요소

+ **구조(Structure)**
  + **논리적으로 표현된 개체 타입들 간의 관계**로서 데이터 구조 및 정적 성질을 표현한다.
+ **연산(Operation)**
  + DB에 저장된 실제 데이터를 처리하는 작업에 대한 명세로서 **DB를 조작하는 기본 도구**
+ **제약 조건(Constraint)**
  + DB에 저장될 수 있는 실제 데이터의 논리적인 제약 조건







## 3. 데이터 모델의 구성 요소 - 개체

### 3.1 개체의 정의 및 특징

+ 개체는 데이터베이스에 표현하려는 것으로, 사람이 생각하는 개념이나 정보 단위 같은 **현실 세계의 대상**이다.

+ 실세계에 독립적으로 존재하는 **유형, 무형의 정보**로서 **서로 연관된 몇 개의 속성으로 구성**된다.
+ **파일 시스템의 레코드**에 대응하는 것으로 어떤 정보를 제공하는 역할을 수행한다.
  + 내가 아는 레코드라는 개념으로는 정확히는 '개체 인스턴스가' 레코드에 대응하고 개체 자체는 Model에 대응한다.
+ 영속적으로 존재하는 개체의 집합
+ **유일한 식별자**에 의해 식별이 가능하다.
+ **다른 개체와 하나 이상의 관계**가 있다.

| 교수번호 | 성명   | 전공   | 소속   |
| -------- | ------ | ------ | ------ |
| 144001   | 조성진 | 곤충   | 안산대 |
| 145002   | 박윤영 | 미생물 | 강원대 |
| 146001   | 강현준 | 식물   | 서울대 |

+ 속성: 교수번호, 성명, 전공, 소속
+ 개체 타입: 속성으로만 기술된 개체의 정의
+ 개체 인스턴스: 개체를 구성하고 있는 각 속성들이 값을 가져 하나의 개체를 나타내는 것. 개체 어커런스라고도 한다.
+ 개체 세트: 개체 인스턴스의 집합

+ 선정 방법
  + **자료 흐름도**(DFD)를 통해 업무 분석을 수행한 경우 **자료 저장소**를 이용한다.
  + **BPR**(업무 프로세스 재설계)에 의해 업무를 재정의한 경우 관련 개체를 찾는다.





### 3.2 개체명 지정 방법

+ 약어 사용은 제한한다.
+ 단수 명사를 사용한다.
+ 모든 개체명은 유일해야 한다.







## 4, 데이터 모델의 구성 요소 - 속성

### 4.1 속성의 정의 및 특징

+ 속성은 **데이터베이스를 구성하는 가장 작은 논리적 단위**이다.
+ 파일 구조상의 데이터 **필드**에 해당한다.
+ **개체를 구성하는 항목**이다.
+ 속성의 수를 **디그리** 또는 차수라고 한다.





### 4.2 속성의 종류

#### 4.2.1 속성의 특성에 따른 분류

+ **기본 속성**
  + 업무 분석을 통해 정의한 속성
  + 업무로부터 분석한 속성이라도 **업무상 코드로 정의한 속성은 기본 속성에서 제외된다.**
+ **설계 속성**
  + 원래 업무상 존재하지 않고 **설계 과정에서 도출해내는 속성**
  + **데이터 모델링을 위해** 업무를 규칙화하려고 새로 만들거나 변형하여 정의하는 속성이다.
+ **파생 속성**
  + **다른 속성으로부터** 계산이나 변형 등의 영향을 받아 발생하는 속성

+ 예시
  + 기본 속성 - 자동차명, 제조일, 연비
  + 설계 속성 - 자동차코드
  + 파생 속성 - 총판매수량, 총판매금액



#### 4.2.2 개체 구성 방식에 따른 분류

+ **기본키 속성**
  + 개체를 식별할 수 있는 속성
+ **외래키 속성**
  + 다른 개체와의 관계에서 포함된 속성
+ **일반 속성**
  + 위의 두 가지가 아닌 속성





### 4.3 속성 후보 선정 원칙

+ 속성으로 지정할 후보는 **최대한 많이** 선택하는 것이 좋다.
+ 선정 원칙
  + **원시 속성**으로 판단되는 속성 후보는 버리지 않는다.
    + 다른 속성을 통해 다시 재현해낼 수 없는 속성
  + 소그룹별로 속성 후보군을 만들고 **가장 근접한 개체에 할당**한다.





### 4.4 속성명 지정 원칙

+ 속성명은 웹이나 클라이언트/서버 등 어떠한 환경에서도 사용자 인터페이스에 나타나기 때문에 정확하고 혼란이 없도록 지정해야 한다.
+ 해당 업무에서 사용하는 용어로 지정
+ 서술형으로 지정하지 않는다.
+ 약어의 사용은 제한한다.
+ 개체명을 사용할 수 없다.
+ 개체 내에서 유일하게 식별 가능하도록 지정한다.







## 5. 데이터 모델의 구성 요소 - 관계

### 5.1 관계의 정의

+ 관계는 개체와 개체 사이의 **논리적인 연결**을 의미한다.





### 5.2 관계의 형태

+ 관계의 형태에는 1:1, 1:N, N:M 관계가 있다.
  + 1:1
    + 개체 집합 A의 각 원소가 개체 집합 B의 원소 한 개와 대응하는 관계
  + 1:N
    + 개체 집합 A의 각 원소는 개체 집합 B의 원소 여러 개와 대응하지만 반대는 아닌 관계
  + N:M 
    + 개체 집합 A의 각 원소가 개체 집합 B의 원소 여러 개와 대응하며 반대도 그러한 관계





### 5.3 관계의 종류

+ **종속 관계**
  + 두 개체 사이의 주종관계를 표현한 것으로, **식별/비식별 관계**가 있다.
    + 식별 관계
      + 개체 A, B 사이의 관계에서 A개체의 기본키가 B개체의 외래키이면서 동시에 기본키가 되는 관계
      + B개체의 존재 여부가 A개체의 존재 여부에 의존적인 경우에 발생, E-R관계에서 실선으로 표현
    + 비식별 관계
      + 개체 A의 기본키가 개체 B의 비기본키 영역에서 외래키가 되는 관계
      + 일반적인 경우, E-R관계에서 점선으로 표현
+ **중복 관계**
  + 두 개체 사이에 **2번 이상의 종속 관계**가 발생하는 관계
+ **재귀 관계**
  + 개체가 자기 자신과 관계를 갖는 것
+ **배타 관계**
  + 개체의 속성이나 구분자를 기준으로 개체의 특성을 분할하는 관계로, **AND관계나 OR관계**로 구분
  + AND관계는 하위 개체들 중 속성이나 구분자 조건에 따라 하나의 개체만을 선택할 수 있고 OR관계는 하나 싱의 개체를 선택할 수 있다.





### 5.4 관계의 표현

+ 관계 표기 기호
  + `|`: 필수
  + `O`: 선택적
  + `<`: 다중
+ 관계의 표현
  + 1:1 : `-|---|-`
  + 1:0 또는 1:1 : `-|---O|-`
  + 1:N: `-|---<-`
  + 1:1 또는 1:N: `-|---|<-`
  + 1:0 또는 1:1 또는 1:N: `-|---O|<-`