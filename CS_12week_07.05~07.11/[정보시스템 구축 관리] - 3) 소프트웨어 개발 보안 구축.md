# [정보시스템 구축 관리] - 3) 소프트웨어 개발 보안 구축







## 1. 코드 오류

### 1.1 널 포인터 역참조

널 포인터 역참조는 널 포인터가 가리키는 메모리에 어떠한 값을 저장할 때 발생하는 보안 약점이다.

+ 많은 라이브러리 함수들이 오류가 발생할 경우 널 값을 반환하는데, 이 반환값을 포인터로 참조하는 경우 발생한다.

+ 대부분의 운영체제에서 널 포인터는 메모리의 첫 주소를 가리키며, 해당 주소를 참조할 경우 소프트웨어가 비정상적으로 종료될 수 있다.

+ 널이 될 수 있는 포인터를 이용하기 전에 널 값을 갖고 있는지 검사함으로써 방지할 수 있다.


#### 1.1.1 스택 가드

+ 널 포인터 역참조와 같이 주소가 저장되는 스택에서 발생하는 보안 약점을 막는 기술 중 하나
+ 메모리상에서 프로그램의 복귀 주소와 변수 사이에 특정 값을 저장한 후 그 값이 변경되었을 경우 오버플로우 상태로 판단하여 프로그램 실행을 중단함으로써 잘못된 복귀 주소의 호출을 막는 기술

<br/>

<br/>

### 1.2 부적절한 자원 해제

부적절한 자원 해제는 자원을 반환하는 코드를 누락하거나 프로그램 오류로 할당된 자원을 반환하지 못했을 때 발생하는 보안 약점이다.

+ 힙 메모리, 소켓 등의 유한한 시스템 자원이 계속 점유하고 있으면 자원 부족으로 인해 새로운 입력을 처리하지 못 할 수 있다.
  + 힙 메모리 : 소프트웨어가 자유롭게 사용할 수 있는 메모리 공간
  + 소켓 : 데이터 교환을 위한 통로
+ 프로그램 내에 자원 반환 코드가 누락되었는지 확인하고, 오류로 인해 함수가 중간에 종료되었을 때 예외처리에 관계없이 자원이 반환되도록 코딩함으로써 방지할 수 있다.

<br/>

<br/>

### 1.3 해제된 자원 사용

해제된 자원 사용은 이미 사용이 종료되어 반환된 메모리를 참조하는 경우 발생하는 보안 약점이다.

<br/>

<br/>

### 1.4 초기화되지 않은 변수 사용

변수 선언 후 값이 부여되지 않은 변수를 사용할 때 발생하는 보안 약점이다.

<br/>

<br/>

<br/>

## 2. 캡슐화 보안 점검

캡슐화 보안 점검은 정보 은닉이 필요한 중요한 데이터와 기능을 불충분하게 캡슐화하거나 잘못 사용함으로써 발생할 수 있는 문제를 예방하기 위한 보안 점검 항목들이다.

### 2.1 잘못된 세션에 의한 정보 노출

다중 스레드 환경에서 멤버 변수에 정보를 저장할 때 발생하는 보안 약점이다.

+ 싱글톤 패턴에서 발생하는 레이스 컨디션으로 인해 동기화 오류가 발생하거나, 멤버 변수의 정보가 노출될 수 있다.
+ 멤버 변수보다 지역 변수를 활용하여 변수의 범위를 제한함으로써 방지할 수 있다.

<br/>

<br/>

### 2.2 Public 메서드로부터 반환된 Private 배열

선언된 클래스 내에서만 접근이 가능한 Private 배열을 모든 클래스에서 접근이 가능한 Public 메서드에서 반환할 때 발생하는 보안 약점이다.

+ Public 메서드가 Private 배열을 반환하면 배여릐 주소가 외부로 공개되어 외부에서 접근할 수 있게 된다.
+ Private 배열을 별도의 메서드를 통해 조작하거나, 동일한 형태의 복제본으로 반환받은 후 값을 전달하는 방식으로 방지할 수 있다.

#### 2.2.1 접근 지정자(접근 제어자)(중요)

| 한정자    | 클래스 내부 | 패키지 내부 | 하위 클래스 | 패키지 외부 |
| --------- | ----------- | ----------- | ----------- | ----------- |
| Public    | O           | O           | O           | O           |
| Protected | O           | O           | O           | X           |
| Default   | O           | O           | X           | X           |
| Private   | O           | X           | X           | X           |

<br/>

<br>

### 2.3 Private 배열에 Public 데이터 할당

Private 배열에 Public으로 선언된 데이터 또는 메서드의 파라미터를 저장할 때 발생하는 보안 약점이다.

+ Private 배열에 Public 데이터를 저장하면 Private 배열을 외부에서 접근할 수 있게 된다.
+ Public으로 선언된 데이터를 Pirvate 배열에 저장할 때, 레퍼런스가 아닌 값을 직접 저장함으로써 방지할 수 있다.
  + 레퍼런스를 전달 또는 할당한다는 것은 메모리의 위치를 공유한다는 의미다. 배열 A를 선언하여 값을 저장하고 배열 B를 선언 시 B = A라고 했을 때, 배열 B는 배열 A와 동일한 메모리를 공유하게 된다. 즉, 배열 B에는 어떠한 값도 저장하지 않았지만 배열 A에 저장한 값들을 B를 통해 접근할 수 있게 되는 것이다.

<br/>

<br/>

<br/>

## 3. 암호 알고리즘(중요)

암호 알고리즘은 패스워드, 주민번호, 은행계좌와 같은 중요 정보를 보호하기 위해 평문을 암호화된 문장으로 만드는 절차 또는 방법을 의미한다.

+ 해시를 사용하는 단방향 암호화 방식과, 개인키 및 공개키로 분류되는 양방향 암호화 방식이 있다.

### 3.1 개인키 암호화 기법

개인키 암호화 기법은 **동일한 키로 데이터를 암호화하고 복호화**한다.

+ 데이터베이스 사용자는 평문의 정보 M을 암호화 알고리즘 E와 개인키 K를 이용하여 암호문 C로 바꾸어 저장시켜 놓으면 사용자는 그 데이터베이스에 접근하기 위해 복호화 알고리즘 D와 개인키 K를 이용하여 다시 평문의 정보 M으로 바꾸어 이용하는 방법이다.
+ 개인키 암호화 기법은 **대칭 암호 기법** 또는 **단일키 암호화 기법**이라고도 한다.
+ 개인키 암호화 기법은 한 번에 하나의 데이터 블록을 암호화 하는 **블록 암호화 방식**과, 평문과 동일한 길이의 스트림을 생성하여 비트 단위로 암호화 하는 **스트림 암호화 방식**으로 분류된다.
  + 블록 암호화 방식 : DES, SEED, AES, ARIA
  + 스트림 암호화 방식 : LFSR, RC4
+ 장점 : 암호화/복호화 속도가 빠르며, 알고리즘이 단순하고, 공개키 암호 기법보다 파일의 크기가 작다.
+ 단점 : 사용자의 증가에 따라 관리해야 할 키의 수가 상대적으로 많아진다.

<br/>

<br/>

### 3.2 공개키 암호화 기법

공개키 암호화 기법은 데이터를 암호화 할 때 사용하는 공개키는 데이터베이스 사용자에게 공개하고, 복호화할 때의 비밀키는 관리자가 밀리에 관리한다.

+ 데이터베이스 사용자는 평문의 정보 M을 암호화 알고리즘 E와 공개키 P를 이용하여 암호문 C로 바꾸어 저장시켜 놓고, 이를 복호화하기 위해서는 비밀키와 복호화 알고리즘에 권한이 있는 사용자만이 복호화 알고리즘 D와 비밀키 S를 이용하여 다시 평문의 정보 M으로 바꿀 수 있는 기법이다.
+ 공개키 암호화 기법은 **비대칭 암호 기법**이라고도 하며, 대표적으로는 **RSA(Rivest Shamir Adleman)** 기법이 있다.
  + **RSA**(중요)
    + 라이베스트, 샤미르, 아들만에 의해 제안된 공개키 암호화 알고리즘
    + 큰 숫자를 소인수분해 하기 어렵다는 것에 기반하여 만즐어졌다.
    + 공개키와 비밀키를 사용한데, 여기서 키란 메시지를 열고 잠그는 상수를 의미한다.
+ 장점 : 키의 분배가 용이하고, 관리해야 할 키의 개수가 적다.
+ 단점: 암호화/복호화 속도가 느리며, 알고리즘이 복잡하고, 개인키 암호화 기법보다 파일의 크기가 크다.

<br/>

<br/>

### 3.3 해시

해시는 임의의 길이의 입력 데이터나 메시지를 고정된 길이의 값이나 키로 변환하는 것을 의미한다.

+ 해시 알고리즘은 해시 함수라고 부르며, 해시 함수로 변환된 값이나 키를 해시값 또는 해시키라고 부른다.
+ 데이터의 암호화, 무결성 검증을 위해 사용될 뿐만 아니라 정보보호의 다양한 분야에서 활용된다.
+ 해시 함수의 종류에는 SHA 시리즈, MD5, N-NASH, SNEFRU 등이 있다.
