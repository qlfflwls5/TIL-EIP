# [데이터베이스 구축] - 1)논리 데이터베이스 설계2







## 1. 식별자

### 1.1 식별자의 정의 및 분류

+ 하나의 개체 내에서 각각의 인스턴스를 유일하게 구분할 수 있는 구분자로, 모든 개체는 한 개 이상의 식별자를 반드시 가져야 한다.

  + 식별자는 개체 내에서 대표성 여부, 스스로 생성 여부, 단일 속성 여부, 대체 여부에 따라 다음과 같이 분류

  + | 분류             | 식별자                   |
    | ---------------- | ------------------------ |
    | 대표성 여부      | 주 식별자, 보조 식별자   |
    | 스스로 생성 여부 | 내부 식별자, 외부 식별자 |
    | 단일 속성 여부   | 단일 식별자, 복합 식별자 |
    | 대체 여부        | 원조 식별자, 대리 식별자 |

    



### 1.2 주 식별자 / 보조 식별자

+ 주 식별자는 개체를 대표하는 유일한 식별자
  + 업무에 가장 적합한 속성이 주 식별자가 된다.
  + **유일성, 최소성, 불변성, 존재성**
    + 식별자를 구성하는 속성의 수가 최소, 불변, 식별자 속성에 반드시 데이터 값이 존재해야 함
+ 보조 식별자는 주 식별자를 대신하여 개체를 식별할 수 있는 **속성**
+ 두 식별자 모두 개체를 유일하게 식별할 수 있어야 한다.
+ **하나의 개체에 주 식별자는 한 개만 존재하지만 보조 식별자는 한 개 이상 존재한다.**

+ **물리적 테이블에서 주 식별자는 기본키(Prime Key)로, 보조 식별자는 유니크 인덱스(Unique Index)로 지정되어 사용된다.**





### 1.3 내부 식별자 / 외부 식별자

+ 외부 식별자는 다른 개체와의 관계에 의해 외부 개체의 식별자를 가져와 사용하는 식별자이다.
  + 자신의 개체에서 **다른 개체를 찾아가는** **연결자 역할**을 한다.





### 1.4 단일 식별자 / 복합 식별자

+ 복합 식별자는 두 개 이상의 속성으로 구성된 식별자
  + ex) 주문이라는 행위에서 주문이 고객번호와 주문번호를 함께 식별자로 할 때





### 1.5 원조 식별자 / 대리 식별자

+ 원조 식별자는 업무에 의해 만들어지는 가공되지 않은 원래의 식별자
+ 대리 식별자는 **주 식별자의 속성이 두 개 이상인 경우 속성들을 하나의 속성으로 묶어 사용하는 식별자**





### 1.6 대리 식별자의 조건

+ 최대한 범용적인 값을 사용
+ 유일한 값을 만들기 위해 대리 식별자 사용(고객 번호와 주문 번호를 합쳐 발송 번호를 만들기)
+ **편의성**과 **단순성**, **의미의 체계화**를 위한 대리 식별자를 사용할 수 있음





### 1.7 후보 식별자

+ 후보 식별자는 개체에서 각 인스턴스를 유일하게 식별할 수 있는 속성 또는 속성 집합
+ 하나의 개체에는 하나 이상의 후보 식별자가 있고, 이 중 개체의 대표성을 나타내는 식별자를 주 식별자로, 나머지는 보조 식별자로 지정한다.
+ **널 값이 될 수 없다.**





## 2. E-R 모델

### 2.1 E-R 모델의 개요

+ E-R 모델은 **개념적 데이터 모델**의 가장 대표적인 것으로, 1976년 피터 첸에 의해 제안되고 기본적인 구성 요소가 정립되었다.
+ 개체와 개체 간의 **관계**를 기본 요소로 이용하여 **현실 세계의 무질서한 데이터를 개념적인 논리 데이터**로 표현하기 위한 방법

+ 개체 타입과 이들 간의 관계 타입을 이용해 현실 세계를 개념적으로 표현
+ **데이터를 개체, 관계, 속성으로 묘사**





### 2.2 E-R 다이어그램

| 기호 이름     | 의미                                                 |
| ------------- | ---------------------------------------------------- |
| 사각형 (중요) | 개체 타입                                            |
| 마름모 (중요) | 관계 타입                                            |
| 타원 (중요)   | 속성                                                 |
| 이중 타원     | 다중값 속성(복합 속성)                               |
| 밑줄 타원     | 기본키 속성                                          |
| 복수 타원     | 복합 속성(ex) 성명은 성과 이름)                      |
| 관계          | 개체 관계에 대한 대응수를 선 위에 기술(1:1, 1:N N:M) |
| 선, 링크      | 개체 타입과 속성을 연결                              |

![논리데이터베이스 - 개체-관계(E-R)모델 - Hello Engineering](https://hyeonukdev.github.io/images/%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC/0514_02.png)







## 3. 관계형 데이터 모델

### 3.1 관계형 데이터 모델의 개요

+ 가장 널리 사용되는 데이터 모델로, **2차원적인 표**를 이용해서 데이터 상호 관계를 정의하는 DB구조
+ 테이블 내에 있는 속성들 간의 관계를 설정하거나 테이블 간의 관계를 설정하여 이용
+ **기본키**와 **외래키**로 데이터 간의 관계를 표현
+ 관계형 모델의 대표적인 언어는 SQL





### 3.2 관계형 데이터 모델의 구성

![관계형 데이터 모델](https://blog.kakaocdn.net/dn/dh0fDu/btqyQUf4jv9/jpx17EeZl8wzKhpDyMRGQk/img.png)







## 4. 관계형 데이터베이스의 구조

### 4.1 관계형 데이터베이스의 개요

+ IBM에 근무하던 코드(Codd)에 의해 처음 제안되었다.
+ 관계형 데이터베이스를 구성하는 개체나 관계를 모두 **릴레이션**이라는 표로 표현한다.
+ 릴레이션은 개체를 표현하는 **개체 릴레이션**, 관계를 나타내는 **관계 릴레이션**으로 구분할 수 있다.
+ 장점
  + 간결하고 보기 편리하며 다른 DB로의 변환이 용이
+ 단점
  + 성능이 다소 떨어짐





### 4.2 관계형 데이터베이스의 Relation 구조

+ 릴레이션은 데이터들을 **표(Table)**형태로 표현한 것으로 구조를 나타내는 **릴레이션 스키마**(보통 첫 행)와 실제 값들인 **릴레이션 인스턴스**(나머지 행)로 구성
+ **튜플**
  + 릴레이션을 구성하는 각각의 행
  + 속성의 모임
  + 파일의 구조에서의 레코드와 같은 의미
  + 튜플의 수를 **카디널리티** 또는 **기수**, **대응수**라고 한다.
+ **속성**
  + DB를 구성하는 가장 작은 논리적 단위
  + 파일 구조에서의 데이터 항목 또는 데이터 필드
  + 속성은 개체의 특성을 기술
  + 속성의 수를 **디그리** 또는 **차수**라고 한다.
+ **도메인**
  + **하나의 속성이 취할 수 있는 같은 타입의 원자 값들의 집합**
    + set(속성)과 같은 느낌
  + 도메인은 실제 속성 값이 나타날 때 그 **값의 합법 여부**를 시스템이 검사하는데에도 이용된다.





### 4.3 릴레이션의 특징

+ 한 릴레이션에는 똑같은 튜플이 포함될 수 없다.
+ **튜플 사이에는 순서가 없다.**
+ 튜플들의 삽입, 삭제 등의 작업으로 인해 릴레이션은 시간에 따라 변한다.
+ **릴레이션 스키마를 구성하는 속성들 간의 순서는 중요하지 않다.**

+ 릴레이션을 구성하는 튜플을 유일하게 식별하기 위해 속성들의 부분집합을 키로 설정한다.

+ 속성의 값은 **논리적으로 더 이상 쪼갤 수 없는 원자값**만을 저장한다.